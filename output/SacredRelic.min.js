/*! SacredRelic 2014-08-08 */
!function(a,b){"use strict";var c={version:"1.1"};c.define=function(){var a=arguments.length,b=arguments[0],d=arguments[a-1],e="function"==typeof d.initialize?d.initialize:function(){b.apply(this,arguments)};if(a>1){var f=[e,b].concat(Array.prototype.slice.call(arguments).slice(1,a-1),d);c.inherit.apply(null,f)}else e.prototype=d,e.prototype.constructor=e;return e},c.inherit=function(a,b){var d,e=function(){},f=b.prototype;e.prototype=f,d=a.prototype=new e,d.constructor=a;var g,h,i;for(g=2,h=arguments.length;h>g;g++)i=arguments[g],"function"==typeof i&&(i=i.prototype),c.extend(a.prototype,i)},c.extend=function(c,d){if(c=c||{},d){for(var e in d){var f=d[e];f!==b&&(c[e]=f)}var g="function"==typeof a.Event&&d instanceof a.Event;!g&&d.hasOwnProperty&&d.hasOwnProperty("toString")&&(c.toString=d.toString)}return c},a.SacredRelic=a.sr=c}(window),function(a,b){"use strict";var c={};c.lastSeqId=0,c.createUniqueID=function(c){return c=null===c||c===b?"SacredRelic":c.replace(/\./g,"_"),a.util.lastSeqId++,c+a.util.lastSeqId},c.bind=function(a,b){var c=Array.prototype.slice.apply(arguments,[2]);return function(){var d=c.concat(Array.prototype.slice.apply(arguments,[0]));return a.apply(b,d)}},c.bindAsEventListener=function(a,b){return function(c){return a.call(b,c||window.event)}},c.requestAnimation=function(){var a=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){window.setTimeout(a,16)};return function(b,c){a.apply(window,[b,c])}}(),c.htmlDecodeDict={quot:'"',lt:"<",gt:">",amp:"&","#39":"'"},c.decodeHtml=function(a){return String(a).replace(/&(quot|lt|gt|amp|#39);/gi,function(a,b){return c.htmlDecodeDict[b]}).replace(/&#u([a-f\d]{4});/gi,function(a,b){return String.fromCharCode(parseInt("0x"+b))}).replace(/&#(\d+);/gi,function(a,b){return String.fromCharCode(+b)})},c.encodeHtml=function(a){return String(a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")},c.isNode=function(a){return!(!a||1!==a.nodeType)},c.isObject=function(a){return"function"==typeof a||!(!a||"object"!=typeof a)},c.isString=function(a){return"[object String]"==Object.prototype.toString.call(a)},c.isArray=function(a){return"[object Array]"==Object.prototype.toString.call(a)},c.isNumeric=function(a){return!isNaN(parseFloat(a))&&isFinite(a)},a.util=c}(sr),function(a,b){"use strict";a.Events=a.define({listeners:null,obj:null,eventHandler:null,initialize:function(b,c){a.extend(this,c),this.obj=b,this.listeners={}},destroy:function(){this.listeners=null,this.obj=null,this.eventHandler=null},on:function(a,c,d){if(null!=c){(null==d||d==b)&&(d=this.obj);var e=this.listeners[a];e||(e=[],this.listeners[a]=e);var f={obj:d,func:c};e.push(f)}},un:function(a,b,c){null==c&&(c=this.obj);var d=this.listeners[a];if(null!=d)for(var e=0,f=d.length;f>e;e++)if(d[e].obj==c&&d[e].func==b){d.splice(e,1);break}},triggerEvent:function(a,c){var d=this.listeners[a];if(!d||0==d.length)return b;null==c&&(c={}),c.obj=this.obj,c.type||(c.type=a),d=d.slice();for(var e,f=0,g=d.length;g>f;f++){var h=d[f];if(e=h.func.apply(h.obj,[c]),e===!1)break}return e},remove:function(a){null!=this.listeners[a]&&(this.listeners[a]=[])},register:function(a){for(var b in a)"scope"!=b&&a.hasOwnProperty(b)&&this.on(b,a[b],a.scope)},unregister:function(a){for(var b in a)"scope"!=b&&a.hasOwnProperty(b)&&this.un(b,a[b],a.scope)},CLASS_NAME:"SacredRelic.Events"})}(sr),function(a){"use strict";a.template=a.template||{},a.extend(a.template,{caches:{},templateText:function(b){return a.util.isNode(b)?/^(input|textarea)$/i.test(b.tagName)?b.value:a.util.decodeHtml(b.innerHTML):""},register:function(b,c){return b?this.caches[b]?this.caches[b]:(a.util.isString(c)||("undefined"==typeof c&&(c=document.getElementById(b)),c=this.templateText(c)),this.caches[b]=this.parse(c)):void 0},parse:function(a){var b=[];b.push("with(this){"),b.push(a.replace(/[\r\n]+/g,"\n").replace(/^\n+|\s+$/gm,"").replace(/((^\s*[<>!#^&\u0000-\u0008\u007F-\uffff].*$|^.*[<>]\s*$|^(?!\s*(else|do|try|finally)\s*$)[^'":;,\[\]{}()\n\/]+$|^(\s*(([\w-]+\s*=\s*"[^"]*")|([\w-]+\s*=\s*'[^']*')))+\s*$|^\s*([.#][\w-.]+(:\w+)?(\s*|,))*(?!(else|do|while|try|return)\b)[.#]?[\w-.*]+(:\w+)?\s*\{.*$)\s?)+/gm,function(a){return a=['"',a.replace(/&none;/g,"").replace(/["'\\]/g,"\\$&").replace(/\n/g,"\\n").replace(/(!?#)\{(.*?)\}/g,function(a,b,c){c=c.replace(/\\n/g,"\n").replace(/\\([\\'"])/g,"$1");var d=/^[a-z$][\w+$]+$/i.test(c)&&!/^(true|false|NaN|null|this)$/.test(c);return['",',d?["typeof ",c,'=="undefined"?"":'].join(""):"","#"==b?"_encode_":"","(",c,'),"'].join("")}),'"'].join("").replace(/^"",|,""$/g,""),a?["_output_.push(",a,");"].join(""):""})),b.push("}");var c=new Function("_output_","_encode_","helper",b.join(""));return c},format:function(b,c,d){if(!b)return"";var e,f;a.util.isNode(b)&&(f=b,b=f.getAttribute("id")),d=d||this,e=this.caches[b],e||(/[^\w-]/.test(b)?e=this.parse(b):(f||(f=document.getElementById(b)),e=this.register(b,f)));var g=[];return e.call(c||"",g,a.util.encodeHtml,d),g.join("")}})}(sr),function(a,b,c){"use strict";b.app=function(){function a(a,b,d){f(c).registerModule(a,b,d)}function d(a,b){f(c).addConfig(a,b)}function e(a,b){f(c).registerApi(a,b)}function f(a){return g?a?(console.warn("The app has already exist! Failure to set up the config"),g):g:g=new b.App(a)}var g=null;return{registerModule:a,addConfig:d,registerApi:e,initialize:f}}(),b.App=b.define({mCreator:null,events:null,eventCaches:null,isLoad:!1,cacheEventDispatch:null,configs:null,initialize:function(){this.mCreator={},this.eventCaches=[],this.configs={},this.cacheEventDispatch={},a(document).ready(b.util.bind(this.onWindowLoad,this)),a(window).unload(b.util.bind(this.onWindowUnload,this)),this.events=new b.Events(this)},registerMember:function(a,b,c){return this.mCreator[a]=this.mCreator[a]||{},this.mCreator[a][b]={creator:c,instance:null}},startMember:function(a,b){var c=this.mCreator[a][b];c&&!c.instance&&(c.instance=c.creator(this,this.getConfig(b)),c.instance.init&&c.instance.init())},registerModule:function(a,b,c){return this.registerMember("module",a,b),this.isLoad||c?(this.startModule(a),!0):!1},registerApi:function(a,b){this.registerMember("api",a,b),this.startApi(a)},startModule:function(a){this.startMember("module",a)},startApi:function(a){this.startMember("api",a)},getApi:function(a){return this.mCreator.api[a].instance},stopModule:function(a){var b=this.mCreator.module[a];b.instance&&(b.instance.destroy&&b.instance.destroy(),b.instance=null)},getModule:function(a){return this.mCreator.module[a].instance},on:function(a,b){this.events.on(a,b)},un:function(a,b){this.events.un(a,b)},notify:function(a,b){if(!this.isLoad)return void this.eventCaches.push([a,b]);this.events.triggerEvent(a,b);for(var c in this.cacheEventDispatch)if(-1!=c.indexOf(a)){this.triggerEventDispatch(c,a,b);break}},triggerEventDispatch:function(a,b,c){var d=this.cacheEventDispatch[a];!d&&d.hitFlag==d.hits||d.cacheData[b]||(d.cacheData[b]=c,++d.hitFlag==d.hits&&(d.func.apply(this,[d.cacheData]),d=null,delete this.cacheEventDispatch[a]))},addConfig:function(a,b){b=b||{};var c,d;if(a){c=this.configs[a]=this.configs[a]||{};for(d in b)c[d]=b[d]}else for(d in b)this.configs[d]=b[d]},getConfig:function(a){return this.configs[a]||{}},invokeEventDispatch:function(a,b){var c=this.cacheEventDispatch[a],d=String(a).split(",").length;if(c&&c.hitFlag==d)throw new Error("this kind of EventDispatch has already invoked!");this.cacheEventDispatch[a]=this.cacheEventDispatch[a]||{hits:d,hitFlag:0,cacheData:{},func:b}},onWindowLoad:function(){var b=this;if(a.each(this.mCreator.module,function(a){b.startModule(a)}),this.isLoad=!0,this.eventCaches)for(var c;c=this.eventCaches.shift();)this.notify(c[0],c[1]);this.notify("Global-SRApp-ModuleCompleted",{})},onWindowUnload:function(){var b=this;a.each(this.mCreator.module,function(a){b.stopModule(a)})},CLASS_NAME:"SacredRelic.App"})}($,sr),function(a,b){"use strict";SacredRelic.Widget=b.define({container:null,el:null,options:null,id:null,event:null,initialize:function(a,c){return this.container=$(a),this.addOptions(c),this.event=new b.Events(this),this.id=this.id||b.util.createUniqueID(this.CLASS_NAME+"_"),this.el=$("<div></div>").attr("id",this.id),this.render(),this},on:function(a,b){return this.event.on(a,b,this),this},un:function(a,b){return this.event.un(a,b,this),this},trigger:function(a,b){return this.event.triggerEvent(a,b),this},render:function(){var a=arguments.length;this.container=0==a?this.container||$(document.body):$(arguments[0]),this.container.append(this.el)},root:function(a){return this.el=a||this.el},show:function(){this.el.show()},hide:function(){this.el.hide()},toggle:function(){this.el.toggle()},addOptions:function(a){null==this.options&&(this.options={}),$.extend(this.options,a),$.extend(this,a)},CLASS_NAME:"SacredRelic.Widget"}),a.sr=a.sr||{define:function(){var c=Array.prototype.slice.call(arguments).slice(0,2),d=c.length;if(2>d)throw new Error("Illegal arguments!");var e=c[0],f=c[1],g=b.define(SacredRelic.Widget,f);a.fn[e]=function(a){return this.each(function(){var b=$.data(this,"SacredRelic_ui_"+e);b||(b=new g($(this),a),$.data(this,"SacredRelic_ui_"+e,b))})}}}}($,sr);